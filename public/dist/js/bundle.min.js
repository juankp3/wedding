function confirmModal(e,o){e=`
        <div id="confirm__modal" class="modal modal__small">
          <div class="modal__container">
            <div class="modal__header">
              <h2>¡Gracias!</h2>
            </div>
            <div class="modal__body modal__body--center">
              <p>${e}</p>
            </div>
            <div class="modal__footer">
              <button id="okBtn" class="button button__primary" data-target="yes">
                OK
              </button>
            </div>
          </div>
        </div>
    `;$("body").append(e);const n=$("#confirm__modal");var e=n.find(".close"),t=n.find("#okBtn");n.css("display","flex"),e.click(function(){n.remove()}),t.click(function(){n.remove(),"function"==typeof o&&o()})}function createYesNoModal(e,o){e=`
        <div id="confirm__action" class="modal modal__small">
          <div class="modal__container">
            <div class="modal__header">
              <h2>Confirmación</h2>
            </div>
            <div class="modal__body modal__body--center">
              <p>${e}</p>
            </div>
            <div class="modal__footer">
              <button id="noBtn" class="button" data-target="not">
                No
              </button>
              <button id="yesBtn" class="button button__primary" data-target="yes">
                Sí
              </button>
            </div>
          </div>
        </div>
    `;$("body").append(e);const n=$("#confirm__action");var e=n.find(".close"),t=n.find("#yesBtn"),a=n.find("#noBtn");n.css("display","flex"),e.click(function(){n.remove()}),a.click(function(){n.remove()}),t.click(function(){n.remove(),"function"==typeof o&&o()})}function goodWishes(){var e=function(){$(document).on("click",'[data-target="send-goodwishes"]',o.confirm),$(document).on("click",'[data-target="cancel-goodwishes"]',o.cancel),$(document).on("keyup","#mygoodwishes",o.enableButtonOnInput)},o={enableButtonOnInput:function(){""!==$(this).val().trim()?$('button[data-target="send-goodwishes"]').prop("disabled",!1):$('button[data-target="send-goodwishes"]').prop("disabled",!0)},confirm:function(){let e={};e.text=$("#mygoodwishes").val(),e.token=$("#token").val(),e.type="goodwishes",window.confirmModal("Tu mensaje fue enviado a los novios",function(){o.ajax(e),o.closeModal()})},cancel:function(){o.closeModal()},ajax:function(e){window.overlay(!0),$.ajax({url:app.urls.base_url+"/ajax",type:"POST",data:e,dataType:"json",success:function(e){console.log(e),window.overlay(!1),o.closeModal()},error:function(e,o){window.overlay(!1)}})},closeModal:function(){return $("#mygoodwishes").val(""),$(".modal").removeClass("active"),$("body").css("overflow",""),!1}};$("#btn"),e()}function modal(){var e=function(){$(document).on("click",'[data-toggle="modal"]',o.open),$(document).on("click",".modal__close",o.close)},o={open:function(){var e=$(this).data("target");$("#"+e).addClass("active"),$("body").css("overflow","hidden")},close:function(){var e=$(this).closest(".modal").attr("id");return $("#"+e).removeClass("active"),$("body").css("overflow",""),!1}};$("#btn"),e()}function modalConfirm(){var e=function(){$(document).on("click",'[data-target="confirm"]',t.confirm),$(document).on("click",'[data-target="cancel"]',t.cancel),$(document).on("click",'input[name="guest_item"]',t.check)},t={check:function(){$('input[name="guest_item"]').is(":checked")?$('button[data-target="confirm"]').prop("disabled",!1):$('button[data-target="confirm"]').prop("disabled",!0)},getTicketData:function(){var e=$('input[name="guest_item"]'),o=$("#token").val(),n={};let t=[];return e.each(function(){t.push({id:$(this).val(),status:$(this).is(":checked")?1:0})}),n.token=o,n.result=t,n},confirm:function(){let e=t.getTicketData();e.type="confirm",window.createYesNoModal("¿Estás seguro que los <b>seleccionados asistirán</b> a nuestro matrimonio?",function(){t.ajax(e),console.log("Yesss")})},cancel:function(){let e=t.getTicketData();e.type="cancel",window.createYesNoModal("¿Estás seguro de que <b>no podrás</b> asistir a nuestro matrimonio?",function(){t.ajax(e)})},ajax:function(o){let n="";window.overlay(!0),$.ajax({url:app.urls.base_url+"/ajax",type:"POST",data:o,dataType:"json",success:function(e){"confirm"==o.type&&(n=`<div class="tickets__qr">
						<p class="secondary">${titleConfirm}</p>
						<p class="small">${descriptionConfirm}</p>
						<p class="small">${descriptionConfirmQR}</p>
            <img src="${app.urls.base_url}/uploads/${e.token}.png">
					</div>`),"cancel"==o.type&&(n=`<div class="tickets__cancelmsj">
						        <p class="secondary">${descriptionCancel}</p>
                    <a href="#gifts">${anchorAccouts}</a>
					        </div>`),$(".tickets__body").html(n),window.overlay(!1),t.closeModal()},error:function(e,o){window.overlay(!1)}})},closeModal:function(){return $(".modal").removeClass("active"),$("body").css("overflow",""),!1}};$("#btn"),e()}function overlay(e=!1){e?$(".overlay").addClass("overlay__active"):$(".overlay").removeClass("overlay__active")}function _slidingup(){var e=function(){$(document).on("click","#goodwishes",o.open),$(document).on("click","#panel a.close",o.close)},o={open:function(e){console.log("Holaa"),$("#panel").closest(".overlay-panel").addClass("overlay-panel__active"),$("#panel").slideDown("slow"),e.preventDefault()},close:function(e){console.log("close"),$("#panel").slideUp("slow",function(){$("#panel").closest(".overlay-panel").removeClass("overlay-panel__active")}),e.preventDefault()}};$("#goodwishes"),e()}function songs(){var t={input:function(e){13==e.which&&t.addSong()},getJSON:function(){return window.selectedSongs},addJSON:function(e){window.selectedSongs.push(e),$("#autocomplete-input").val(""),t.renderList()},removeJSON:function(n){t.getJSON().forEach((e,o)=>{o===n&&delete window.selectedSongs[o]}),window.selectedSongs=window.selectedSongs.filter(e=>void 0!==e),t.renderList()},addSong:function(){var e=$("#autocomplete-input").val();t.valid(e)?($("#autocomplete-input").removeClass("--error"),t.addJSON({id_songs:0,name:e,cant:"0"})):($("#autocomplete-input").addClass("--error"),console.log("No cumple con el formato"))},remove:function(){var e=parseInt($(this).closest("li").attr("id"));t.removeJSON(e)},renderList:function(){const n=$("#songs-list");n.html(""),t.getJSON().forEach((e,o)=>{n.prepend(`<li id="${o}">${e.name}<span class="after-element">x</span></li>`)}),t.toggleButtonState()},valid:function(e){return/^[A-Za-z0-9\sáéíóúÁÉÍÓÚüÜñÑ]+ - [A-Za-z\sáéíóúÁÉÍÓÚüÜñÑ]+$/.test(e)},suggestedSongs:function(){var e=suggestedSongs.songs.map(e=>({label:e.name+" "+(0<e.cant?`<span class="suggested-count">(sugerido ${e.cant}  ${1<e.cant?"veces":"vez"} )</span>`:""),value:e.id_songs,actualLabel:e.name}));$("#autocomplete-input").autocomplete({autoFocus:!0,minLength:3,source:e,focus:function(e,o){return!1},select:function(e,o){const n=suggestedSongs.songsbyId[o.item.value];return t.getJSON().some(e=>e.id_songs===n.id_songs)||t.addJSON(n),setTimeout(()=>{$("#autocomplete-input").val("")},50),!1}}).autocomplete("instance")._renderItem=function(e,o){return $("<li>").append("<div>"+o.label+"</div>").appendTo(e)}},toggleButtonState:function(){0<t.getJSON().length?$("#sendSongs").prop("disabled",!1):$("#sendSongs").prop("disabled",!0)},send:function(){window.createYesNoModal("¿Estás seguro de enviar estas canciones?",function(){console.log("songs",t.getJSON()),$.ajax({url:app.urls.base_url+"/ajax",type:"POST",data:{type:"songs",token:$("#token").val(),songs:t.getJSON()},dataType:"json",success:function(e){console.log(e),window.overlay(!1),t.closeModal()},error:function(e,o){window.overlay(!1),t.closeModal()}})})},closeModal:function(){return $(".modal").removeClass("active"),$("body").css("overflow",""),!1}};$(document).on("click","#sendSongs",t.send),$(document).on("click","#add-song",t.addSong),$(document).on("click","#songs-list li span",t.remove),$(document).on("keyup","#autocomplete-input",t.input),t.suggestedSongs()}$(document).ready(function(){var e=document.getElementById("music"),o=$(".toggleButton");e.currentTime=25,e.volume=.3,o.click(function(){e.paused?(e.play(),o.addClass("active")):(e.pause(),o.removeClass("active"))})}),window.confirmModal=confirmModal,window.createYesNoModal=createYesNoModal,$(document).ready(function(){const e=new Date("2024-08-24T15:30:00"),o=new Date("2024-08-25T00:00:00");function n(e){return e.toISOString().replace(/-|:|\.\d+/g,"")}$("#googleCalendarButton").click(function(){console.log("google"),window.open("https://calendar.google.com/calendar/render?"+new URLSearchParams({action:"TEMPLATE",text:"Boda de M. Angélica & Luis",details:"Únete a nosotros para celebrar el matrimonio de M. Angélica y Luis. Acompáñanos en una ceremonia llena de amor y alegría, seguida de una recepción con banquete, música y baile. ¡Esperamos contar con tu presencia en este día tan especial!",location:"Basílica María Auxiliadora, Av. Brasil 210, Breña",dates:n(e)+"/"+n(o)}).toString(),"_blank")})}),goodWishes(),modal(),modalConfirm(),window.overlay=overlay,$(document).ready(function(){document.addEventListener("gesturestart",function(e){e.preventDefault()})}),$(document).ready(function(){var o=$(".image-seal"),e=$(".envelope1"),n=$(".envelope2");!function e(){o.animate({width:"180px",height:"180px"},1e3,function(){o.animate({width:"150px",height:"150px"},1e3,function(){e()})})}(),$(".image-seal").click(function(){o.stop(!0),$(".tippy-content").hide(),e.animate({top:"-80%"},700),n.animate({bottom:"-60%"},700,function(){$(".image-seal").fadeOut(900,function(){$("body").removeClass("body-envelope")}),$(".envelope-wrapper").toggleClass("blanco",900)})})}),_slidingup(),window.selectedSongs=[],songs();const titleConfirm="Gracias por confirmar tu asistencia",descriptionConfirm="¡Nos alegra saber que asistirás a nuestro matrimonio! Esperamos compartir este día tan especial contigo.",descriptionConfirmQR="Por favor presenta este codigo QR en la entrada del evento",descriptionCancel="Nos apena el que no puedas asistir físicamente a nuestra boda pero estarás en nuestros corazones.Y aunque nos faltará tu presencia, que no falte tu regalo.",anchorAccouts="Ir a los números de cuenta";